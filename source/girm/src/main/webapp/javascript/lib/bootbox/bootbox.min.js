!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):a.bootbox=b(a.jQuery)}(this,function a(b,c){"use strict";function g(a){var b=q[e.locale];return b?b[a]:q.en[a]}function h(a,c,d){a.stopPropagation(),a.preventDefault();var e=b.isFunction(d)&&d(a)===!1;e||c.modal("hide")}function i(a){var b,c=0;for(b in a)c++;return c}function j(a,c){var d=0;b.each(a,function(a,b){c(a,b,d++)})}function k(a){var c,d;if("object"!=typeof a)throw new Error("Please supply an object of options");if(!a.message)throw new Error("Please specify a message");return a=b.extend({},e,a),a.buttons||(a.buttons={}),a.backdrop=a.backdrop?"static":!1,c=a.buttons,d=i(c),j(c,function(a,e,f){if(b.isFunction(e)&&(e=c[a]={callback:e}),"object"!==b.type(e))throw new Error("button with key "+a+" must be an object");e.label||(e.label=a),e.className||(e.className=2>=d&&f===d-1?"btn-primary":"btn-default")}),a}function l(a,b){var c=a.length,d={};if(1>c||c>2)throw new Error("Invalid argument length");return 2===c||"string"==typeof a[0]?(d[b[0]]=a[0],d[b[1]]=a[1]):d=a[0],d}function m(a,c,d){return b.extend(!0,{},a,l(c,d))}function n(a,b,c,d){var e={className:"bootbox-"+a,buttons:o.apply(null,b)};return p(m(e,d,c),b)}function o(){var b,c,d,e,f,a={};for(b=0,c=arguments.length;c>b;b++)d=arguments[b],e=d.toLowerCase(),f=d.toUpperCase(),a[e]={label:g(f)};return a}function p(a,b){var d={};return j(b,function(a,b){d[b]=!0}),j(a.buttons,function(a){if(d[a]===c)throw new Error("button key "+a+" is not allowed (options are "+b.join("\n")+")")}),a}var q,d={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},e={locale:"en",backdrop:!0,animate:!0,className:null,keyboard:!1,closeButton:!0,show:!0,container:"body"},f={};return f.defineLocale=function(a,b){return b?(q[a]={OK:b.OK,CANCEL:b.CANCEL,CONFIRM:b.CONFIRM},q[a]):(delete q[a],null)},f.alert=function(){var a;if(a=n("alert",["ok"],["message","callback"],arguments),a.callback&&!b.isFunction(a.callback))throw new Error("alert requires callback property to be a function when provided");return a.buttons.ok.callback=a.onEscape=function(){return b.isFunction(a.callback)?a.callback():!0},f.dialog(a)},f.confirm=function(){var a;if(a=n("confirm",["cancel","confirm"],["message","callback"],arguments),a.buttons.cancel.callback=a.onEscape=function(){return a.callback(!1)},a.buttons.confirm.callback=function(){return a.callback(!0)},!b.isFunction(a.callback))throw new Error("confirm requires a callback");return f.dialog(a)},f.prompt=function(){var g,i,l,n,q,h=b(d.form),e={className:"bootbox-prompt",buttons:o("cancel","confirm"),value:"",inputType:"text"},a=p(m(e,arguments,["title","callback"]),["cancel","confirm"]),k=a.show===c?!0:a.show;if(a.message=h,a.buttons.cancel.callback=a.onEscape=function(){return a.callback(null)},a.buttons.confirm.callback=function(){var c,d;switch(a.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":c=i.val();break;case"checkbox":d=i.find("input:checked"),c=[],j(d,function(a,d){c.push(b(d).val())})}return a.callback(c)},a.show=!1,!a.title)throw new Error("prompt requires a title");if(!b.isFunction(a.callback))throw new Error("prompt requires a callback");if(!d.inputs[a.inputType])throw new Error("invalid prompt type");switch(i=b(d.inputs[a.inputType]),a.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":i.val(a.value);break;case"select":if(n={},l=a.inputOptions||[],!l.length)throw new Error("prompt with select requires options");j(l,function(a,d){var e=i;if(d.value===c||d.text===c)throw new Error("given options in wrong format");d.group&&(n[d.group]||(n[d.group]=b("<optgroup/>").attr("label",d.group)),e=n[d.group]),e.append("<option value='"+d.value+"'>"+d.text+"</option>")}),j(n,function(a,b){i.append(b)}),i.val(a.value);break;case"checkbox":if(q=b.isArray(a.value)?a.value:[a.value],l=a.inputOptions||[],!l.length)throw new Error("prompt with checkbox requires options");if(!l[0].value||!l[0].text)throw new Error("given options in wrong format");i=b("<div/>"),j(l,function(c,e){var f=b(d.inputs[a.inputType]);f.find("input").attr("value",e.value),f.find("label").append(e.text),j(q,function(a,b){b===e.value&&f.find("input").prop("checked",!0)}),i.append(f)})}return a.placeholder&&i.attr("placeholder",a.placeholder),a.pattern&&i.attr("pattern",a.pattern),h.append(i),h.on("submit",function(a){a.preventDefault(),a.stopPropagation(),g.find(".btn-primary").click()}),g=f.dialog(a),g.off("shown.bs.modal"),g.on("shown.bs.modal",function(){i.focus()}),k===!0&&g.modal("show"),g},f.dialog=function(a){var e,f,g,i,l,m,n;if(a=k(a),e=b(d.dialog),f=e.find(".modal-dialog"),g=e.find(".modal-body"),i=a.buttons,l="",m={onEscape:a.onEscape},b.fn.modal===c)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");return j(i,function(a,b){l+="<button data-bb-handler='"+a+"' type='button' class='btn "+b.className+"'>"+b.label+"</button>",m[a]=b.callback}),g.find(".bootbox-body").html(a.message),a.animate===!0&&e.addClass("fade"),a.className&&e.addClass(a.className),"large"===a.size&&f.addClass("modal-lg"),"small"===a.size&&f.addClass("modal-sm"),a.title&&g.before(d.header),a.closeButton&&(n=b(d.closeButton),a.title?e.find(".modal-header").prepend(n):n.css("margin-top","-10px").prependTo(g)),a.title&&e.find(".modal-title").html(a.title),l.length&&(g.after(d.footer),e.find(".modal-footer").html(l)),e.on("hidden.bs.modal",function(a){a.target===this&&e.remove()}),e.on("shown.bs.modal",function(){e.find(".btn-primary:first").focus()}),e.on("escape.close.bb",function(a){m.onEscape&&h(a,e,m.onEscape)}),e.on("click",".modal-footer button",function(a){var c=b(this).data("bb-handler");h(a,e,m[c])}),e.on("click",".bootbox-close-button",function(a){h(a,e,m.onEscape)}),e.on("keyup",function(a){27===a.which&&e.trigger("escape.close.bb")}),b(a.container).append(e),e.modal({backdrop:a.backdrop,keyboard:a.keyboard||!1,show:!1}),a.show&&e.modal("show"),e},f.setDefaults=function(){var a={};2===arguments.length?a[arguments[0]]=arguments[1]:a=arguments[0],b.extend(e,a)},f.hideAll=function(){return b(".bootbox").modal("hide"),f},q={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}},f.init=function(c){return a(c||b)},f});